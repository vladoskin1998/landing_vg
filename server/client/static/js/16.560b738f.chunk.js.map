{"version":3,"file":"static/js/16.560b738f.chunk.js","mappings":"sJASA,UALc,WACb,IAAOA,GAASC,EAAAA,EAAAA,YAAWC,EAAAA,GAApBF,MACP,OAAOG,EAAAA,EAAAA,KAACC,EAAAA,EAAW,CAACC,IAAKL,EAAOM,KAAM,cACvC,C,wKCNaC,EAAY,SAAHC,GAA2F,IAAtFC,EAAKD,EAALC,MAAOC,EAAgBF,EAAhBE,iBAMjC,OAAOP,EAAAA,EAAAA,KAAA,MAAIQ,UAAU,UAASC,SAC5BC,MAAMC,KAAKL,GAAOM,KAAI,SAACC,EAAMC,GAAK,OAClCC,EAAAA,EAAAA,MAAA,MAAAN,SAAA,EACCT,EAAAA,EAAAA,KAAA,OAAAS,UACCT,EAAAA,EAAAA,KAAA,QAAAS,SACC,GAAAO,OAAGH,EAAKI,KAAI,KAAAD,OAAIH,EAAKK,MAAOC,OAAS,GAClC,GAAAH,OAAGH,EAAKI,MAAOG,MAAM,IAAIC,MAAM,EAAG,IAAIC,KAAK,IAAM,MAAK,GAAAN,OACnDH,EAAKI,WAEbjB,EAAAA,EAAAA,KAAA,UAAQQ,UAAU,WAAWe,QAAS,SAAAC,IAdtB,SAACA,EAAwCC,GAC3DD,EAAEE,kBACFnB,EAAiBkB,EAClB,CAYIE,CAAWH,EAAGV,EACf,EAAEL,SAAC,aATKI,EAAKI,KAUT,KAGR,E,UCdaW,EAAS,SAAHvB,GAA8D,IAAxDwB,EAAKxB,EAALwB,MAAO1B,EAAIE,EAAJF,KAE/B2B,GAA0BC,EAAAA,EAAAA,UAAiB,IAAGC,GAAAC,EAAAA,EAAAA,GAAAH,EAAA,GAAvCxB,EAAK0B,EAAA,GAAEE,EAAQF,EAAA,GACtBG,GAA8BJ,EAAAA,EAAAA,UAAiB,IAAGK,GAAAH,EAAAA,EAAAA,GAAAE,EAAA,GAA3CE,EAAOD,EAAA,GAAEE,EAAUF,EAAA,GAC1BG,GAA4BR,EAAAA,EAAAA,UAAS,IAAGS,GAAAP,EAAAA,EAAAA,GAAAM,EAAA,GAAjCE,EAAMD,EAAA,GAAEE,EAASF,EAAA,GAChBG,GAAc7C,EAAAA,EAAAA,YAAWC,EAAAA,GAAzB4C,UACRC,GAAwBC,EAAAA,EAAAA,IAAW1C,GAA3B2C,EAAMF,EAANE,OAAQC,EAAGH,EAAHG,IACVC,GAAWC,EAAAA,EAAAA,QAAuB,MACxCC,GAA4BnB,EAAAA,EAAAA,WAAS,GAAMoB,GAAAlB,EAAAA,EAAAA,GAAAiB,EAAA,GAApCE,EAAMD,EAAA,GAAEE,EAASF,EAAA,IAExBG,EAAAA,EAAAA,YAAU,WACT,SAASC,EAAmBC,GACvBR,EAASS,UAAYT,EAASS,QAAQC,SAASF,EAAMG,SACxD9B,GAEF,CAGA,IADA,IACSJ,EAAI,EAAGA,EAAInB,EAAMa,OAAQM,IAAK,CAAC,IAADmC,EACrB,QAAZA,EAAItD,EAAMmB,UAAE,IAAAmC,OAAA,EAARA,EAAU1C,IACpB,CAIA,OADA2C,SAASC,iBAAiB,QAASP,GAC5B,WACNM,SAASE,oBAAoB,QAASR,EACvC,CACD,GAAG,CAACP,EAAU1C,EAAO+B,IAErB,IAoBM2B,EAAY,eAAAC,GAAAC,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,KAAAC,MAAG,SAAAC,IAAA,IAAAC,EAAA7C,EAAA8C,EAAA,OAAAJ,EAAAA,EAAAA,KAAAK,MAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,OACY,GAA1BL,EAAW,IAAIM,SAChBnC,EAAO,CAADgC,EAAAE,KAAA,QAC2B,OAArCE,MAAM,+BAA+BJ,EAAAK,OAAA,oBAGjCzC,EAAQlB,OAAO,CAADsD,EAAAE,KAAA,QACsB,OAAxCE,MAAM,kCAAkCJ,EAAAK,OAAA,oBAEpCxE,EAAMa,OAAO,CAADsD,EAAAE,KAAA,SACsB,OAAtCE,MAAM,gCAAgCJ,EAAAK,OAAA,kBAQvC,IAHAR,EAASS,OAAO,QAAStC,GACzB6B,EAASS,OAAO,MAAOhC,GACvBuB,EAASS,OAAO,UAAW1C,EAAQ,IAC1BZ,EAAI,EAAGA,EAAInB,EAAMa,OAAQM,IACjC6C,EAASS,OAAO,QAASzE,EAAMmB,IAIhB,OAHfgD,EAAAC,KAAA,GAGArB,GAAU,GAAKoB,EAAAE,KAAA,GACTK,EAAAA,EAAAA,KAAU,mBAAoBV,EAAU,CAC7CW,QAAS,CAAE,eAAgB,yBACzB,KAAD,GACF5B,GAAU,GACVwB,MAAM,+BACNhD,IACAqD,OAAOC,SAASC,SAASX,EAAAE,KAAA,iBAAAF,EAAAC,KAAA,GAAAD,EAAAY,GAAAZ,EAAA,UAEO,OAA5B,OAAAA,EAAAY,SAAA,IAAAZ,EAAAY,IAAe,QAAfd,EAAAE,EAAAY,GAAOC,gBAAQ,IAAAf,OAAf,EAAAA,EAAiBgB,SACpB5C,EAAU,IAEXU,GAAU,GACVwB,MAAKJ,EAAAY,IAAQ,yBAAAZ,EAAAe,OAAA,GAAAnB,EAAA,oBAEd,kBAtCiB,OAAAJ,EAAAwB,MAAA,KAAAC,UAAA,KA4ClB,OACC3E,EAAAA,EAAAA,MAAA4E,EAAAA,SAAA,CAAAlF,SAAA,EACCM,EAAAA,EAAAA,MAAA,OAAKP,UAAU,YAAYoF,IAAK5C,EAASvC,SAAA,EACxCT,EAAAA,EAAAA,KAAA,MAAIQ,UAAU,cAAaC,SAAC,oBAC5BM,EAAAA,EAAAA,MAAA,OAAKP,UAAU,aAAYC,SAAA,EAC1BM,EAAAA,EAAAA,MAAA,MAAIP,UAAU,cAAaC,SAAA,CAAC,eAAaoF,QAAQpD,KAAWzC,EAAAA,EAAAA,KAAA,QAAMQ,UAAU,8BAA6BC,SAAC,mBAAsB,QAChIT,EAAAA,EAAAA,KAAA,SAAO8F,KAAK,OAAOtF,UAAU,eAAeuF,MAAOtD,EAAQuD,SAVtC,SAACxE,GACzBkB,EAAUlB,EAAEmC,OAAOoC,MACpB,QAWGhF,EAAAA,EAAAA,MAAA,OAAKP,UAAU,aAAYC,SAAA,EAC1BT,EAAAA,EAAAA,KAAA,MAAIQ,UAAU,cAAaC,SAAC,8BAC5BT,EAAAA,EAAAA,KAAA,SAAOiG,QAAQ,gBAAgBzF,UAAU,wBAAuBC,SAAC,iBAGjET,EAAAA,EAAAA,KAAA,SAAO8F,KAAK,OAAOI,OAAQC,EAAAA,EAAAA,MAAmBC,GAAG,gBAAgBJ,SAAU,SAAAxE,IApEpD,SAACA,GAC3Bc,EAAWd,EAAEmC,OAAOrD,MACrB,CAmEK+F,CAAmB7E,EACpB,KACAT,EAAAA,EAAAA,MAAA,MAAIP,UAAU,cAAaC,SAAA,CAAE0F,EAAAA,EAAAA,MAC3BN,QAAQxD,EAAQlB,UAAWnB,EAAAA,EAAAA,KAAA,QAAMQ,UAAU,8BAA6BC,SAAC,uBAG1EoF,QAAQxD,EAAQlB,UACfnB,EAAAA,EAAAA,KAACI,EAAS,CAACE,MAAO+B,EAAS9B,iBAxEN,SAACkB,GAC3Ba,EACC5B,MAAMC,KAAK0B,GAASiE,QAAO,SAACC,EAAIzF,GAAK,OAAKA,IAAUW,CAAC,IAEvD,QAwEGV,EAAAA,EAAAA,MAAA,OAAKP,UAAU,aAAYC,SAAA,EAC1BT,EAAAA,EAAAA,KAAA,MAAIQ,UAAU,cAAaC,SAAC,iBAC5BT,EAAAA,EAAAA,KAAA,SAAOiG,QAAQ,cAAczF,UAAU,wBAAuBC,SAAC,iBAG/DT,EAAAA,EAAAA,KAAA,SAAO8F,KAAK,OAAOU,UAAQ,EAACN,OAAQpD,EAAQsD,GAAG,cAAcJ,SAAU,SAAAxE,IA/FlD,SAACA,GACzBU,EAASV,EAAEmC,OAAOrD,MACnB,CA8FKmG,CAAiBjF,EAClB,KACAT,EAAAA,EAAAA,MAAA,MAAIP,UAAU,cAAaC,SAAA,CAAEqC,EAC3B+C,QAAQvF,EAAMa,UAAWnB,EAAAA,EAAAA,KAAA,QAAMQ,UAAU,8BAA6BC,SAAC,uBAGxEoF,QAAQvF,EAAMa,UACbnB,EAAAA,EAAAA,KAACI,EAAS,CAACE,MAAOA,EAAOC,iBAnGN,SAACkB,GACzBS,EACCxB,MAAMC,KAAKL,GAAOgG,QAAO,SAACC,EAAIzF,GAAK,OAAKA,IAAUW,CAAC,IAErD,QAmGGV,EAAAA,EAAAA,MAAA,OAAKP,UAAU,aAAYC,SAAA,EAC1BT,EAAAA,EAAAA,KAAA,UAAQQ,UAAU,sBAAsBe,QAASM,EAAMpB,SAAC,YAGxDT,EAAAA,EAAAA,KAAA,UAAQQ,UAAU,aAAae,QAASyC,EAAavD,SAAC,2BAGvD2C,GAASpD,EAAAA,EAAAA,KAAC0G,EAAAA,EAAM,KAAM1G,EAAAA,EAAAA,KAAA2F,EAAAA,SAAA,MAG1B,E,UCxJagB,EAAe,SAAHtG,GAAA,IAAKuG,EAAKvG,EAALuG,MAAOC,EAAIxG,EAAJwG,KAAI,OAAoD9F,EAAAA,EAAAA,MAAA4E,EAAAA,SAAA,CAAAlF,SAAA,EAC5FT,EAAAA,EAAAA,KAAA,MAAIQ,UAAU,mBAAkBC,SAAEmG,KAClC5G,EAAAA,EAAAA,KAAA,OAAKQ,UAAU,iBAAgBC,UAC9BT,EAAAA,EAAAA,KAAA,UAAQQ,UAAU,qBAAoBC,SAAEoG,QAEtC,ECIS5G,EAAc,SAAHI,GAMjB,IALNH,EAAGG,EAAHH,IACAC,EAAIE,EAAJF,KAKM2G,GAAWC,EAAAA,EAAAA,MACXC,GAAYC,EAAAA,EAAAA,IAAsB9G,GACxC+G,GAAoCpH,EAAAA,EAAAA,YAAWC,EAAAA,GAAxCoH,EAAMD,EAANC,OAAQC,EAAMF,EAANE,OAAQzE,EAASuE,EAATvE,UACvBb,GAA8BC,EAAAA,EAAAA,WAAS,GAAMC,GAAAC,EAAAA,EAAAA,GAAAH,EAAA,GAAtCuF,EAAOrF,EAAA,GAAEsF,EAAUtF,EAAA,GACpBuF,EAAUP,EAAUQ,MAAM,GAAGC,cAAgBT,EAAUQ,MAAMnG,MAAM,GAsBzE,OAAON,EAAAA,EAAAA,MAAA,OAAKP,UAAS,SAAAQ,OAAWgG,EAAUQ,OAASpB,GAAImB,EAAQ9G,SAAA,CAE7D2G,IACYrG,EAAAA,EAAAA,MAAA4E,EAAAA,SAAA,CAAAlF,SAAA,EACFT,EAAAA,EAAAA,KAAA,UAAQQ,UAAU,aAAae,QATpB,SAACC,GACvBA,EAAEE,kBACF4F,GAAW,EACZ,EAMmE7G,SAAC,mBACvD4G,IAAWrH,EAAAA,EAAAA,KAAC4B,EAAM,CAACC,MAAO,WAC1ByF,GAAW,EACZ,EACCnH,KAAI,UAAAa,OAAYgG,EAAUQ,aAKtCxH,EAAAA,EAAAA,KAAA,MAAIQ,UAAU,eAAcC,SAAEuG,EAAUQ,SACxCxH,EAAAA,EAAAA,KAAA,OAAKQ,UAAU,cAAaC,UACzBP,EAAIiB,SAAUuG,EAAAA,EAAAA,GAASxH,EAAKiH,GAAQvG,KAAI,SAAC+G,EAAc7G,GAAa,OACrEd,EAAAA,EAAAA,KAAA,OAAKQ,UAAS,mBAAAQ,OAAqB2G,EAAQxG,OAAM,KAAAH,OAAIF,EAAQ,IAAM,EAAI,IAAM,IAAG,oBAAmBL,SACjGkH,EAAQ/G,KAAI,SAAAgH,GAAI,OAChB7G,EAAAA,EAAAA,MAAA,OAAK8G,MAAO,CAACC,gBAAgB,OAAD9G,OAAS+G,EAAAA,GAAI,YAAA/G,OAAW4G,EAAKI,QAAO,MAAMxH,UAAU,0BAC/Ee,QAAS,WACRuF,EAAS,IAAD9F,OAAKb,EAAI,KAAAa,OAAQ,OAAJ4G,QAAI,IAAJA,OAAI,EAAJA,EAAMK,UAAQjH,OAAGgG,EAAUjE,MAAQmF,EAAAA,EAAAA,MAAsB,WAAa,IAC5F,EAAEzH,SAAA,CAED2G,IAAUpH,EAAAA,EAAAA,KAAA,UAAQQ,UAAU,sBAAsBe,QAAS,SAAAC,IA3C7C,SAACA,EAAwC4E,GAC7D5E,EAAEE,kBACFsD,EAAAA,EAAAA,KAAU,sBAAuB,CAACoB,GAAAA,IAChC+B,MAAK,SAAAC,GACLvD,MAAM,+BACNK,OAAOC,SAASC,QACjB,IAAGiD,OAAM,SAAAC,GAAU,IAAD/D,EACjBgE,QAAQC,IAAIF,GACoB,OAAvB,OAALA,QAAK,IAALA,GAAe,QAAV/D,EAAL+D,EAAOhD,gBAAQ,IAAAf,OAAV,EAALA,EAAiBgB,SACpB5C,EAAU,IAEXkC,MAAMyD,EACP,GACF,CA+BQG,CAAajH,EAAO,OAAJoG,QAAI,IAAJA,OAAI,EAAJA,EAAMK,SACvB,EAAExH,SAAC,YAEJT,EAAAA,EAAAA,KAAC2G,EAAY,CAACC,MAAW,OAAJgB,QAAI,IAAJA,OAAI,EAAJA,EAAMhB,MAAOC,MAAM9F,EAAAA,EAAAA,MAAA4E,EAAAA,SAAA,CAAAlF,SAAA,CAAE,SAAKT,EAAAA,EAAAA,KAAA,SAAM,aAChD,KAZiG,eAAiBc,EAcpH,QAIV,C,sHCjEamG,EAAwB,SACpCyB,GAEA,OAAQA,GACP,IAAK,aACJ,MAAO,CACNlB,MAAO,QACPmB,YAAa,YACb5F,IAAKmF,EAAAA,EAAAA,OAEP,IAAK,aACJ,MAAO,CACNV,MAAO,QACPmB,YAAa,OACb5F,IAAKmF,EAAAA,EAAAA,OAEP,QACC,MAAO,CACNV,MAAO,YACPmB,YAAa,YACb5F,IAAKmF,EAAAA,EAAAA,OAGT,EAEaU,EAAuB,SAACF,GACpC,OAAQA,GACP,IAAK,QAIL,QACC,MAAO,CAAC3F,IAAKmF,EAAAA,EAAAA,OAHd,IAAK,QACJ,MAAO,CAACnF,IAAKmF,EAAAA,EAAAA,OAIhB,EAEarF,EAAa,SAAC6F,GAC1B,OAAQA,GACP,IAAK,eAIL,QACC,MAAO,CAAC5F,OAAQqD,EAAAA,EAAAA,MAAmBpD,IAAKmF,EAAAA,EAAAA,OAHzC,IAAK,eACJ,MAAO,CAACpF,OAAQqD,EAAAA,EAAAA,MAAmBpD,IAAKmF,EAAAA,EAAAA,OAI3C,C,qECxDaR,EAAW,SAAIxH,EAAUiH,GAGrC,GAAmB,IAAfjH,EAAIiB,OACP,MAAO,GAGR,GAAmB,IAAfjB,EAAIiB,OACP,MAAO,EAAA0H,EAAAA,EAAAA,GAAK3I,IAGb,GAAe,OAAXiH,EACH,OAAOjH,EAAIU,KAAI,SAAAY,GAAC,MAAI,CAACA,EAAE,IAKxB,IAFA,IAAMsH,EAAiB,GAEdrH,EAAI,EAAGA,EAAIvB,EAAIiB,OAAQM,GAAK,EACpCqH,EAAQC,MAAIF,EAAAA,EAAAA,GACR3I,EAAImB,MAAMI,EAAGA,EAAI,GAAKvB,EAAIiB,OAASjB,EAAIiB,OAASM,EAAI,KAQzD,OAJ2C,IAAvCqH,EAAQA,EAAQ3H,OAAS,GAAGA,QAC/B2H,EAAQA,EAAQ3H,OAAS,GAAG6H,QAAQF,EAAQA,EAAQ3H,OAAS,GAAG8H,OAG1DH,CACR,C","sources":["components/main-page/media/video.tsx","components/admin/filesList.tsx","components/admin/add.tsx","components/main-page/media/wraperButton.tsx","components/main-page/media/wraperMedia.tsx","utils/componentParams.ts","utils/randList.ts"],"sourcesContent":["import {WraperMedia} from './wraperMedia';\nimport {useContext} from 'react';\nimport {AppContext} from '../../../context/context';\n\nconst Video = () => {\n\tconst {video} = useContext(AppContext);\n\treturn <WraperMedia arr={video} link={'video-list'} />;\n};\n\nexport default Video;\n","import React from 'react';\nexport const FilesList = ({files, handleFileDelete}: {files: File[]; handleFileDelete: (i: number) => void}) => {\n\tconst deleteFile = (e: React.MouseEvent<HTMLButtonElement>, i: number) => {\n\t\te.stopPropagation();\n\t\thandleFileDelete(i);\n\t};\n\n\treturn <ul className='add__ul'>\n\t\t{Array.from(files).map((file, index) => (\n\t\t\t<li key={file.name}>\n\t\t\t\t<div>\n\t\t\t\t\t<span>{\n\t\t\t\t\t\t`${file.name}/${file.size}`.length > 25\n\t\t\t\t\t\t\t? `${file.name}`.split('').slice(0, 25).join('') + '...'\n\t\t\t\t\t\t\t: `${file.name}`}</span>\n\t\t\t\t</div>\n\t\t\t\t<button className='add__del' onClick={e => {\n\t\t\t\t\tdeleteFile(e, index);\n\t\t\t\t}}>Delete</button>\n\t\t\t</li>\n\t\t))}\n\t</ul>;\n};\n","import React, { useState, useContext, useRef, useEffect } from 'react';\nimport { AppContext } from '../../context/context';\nimport { $api } from '../../api/api';\nimport { dataUpload } from '../../utils/componentParams';\nimport { FormatMedia } from '../../types/types-main';\nimport { FilesList } from './filesList';\nimport { Loader } from '../loader/loader';\n\nexport const AddNew = ({ close, link }: { close: () => void; link: string }) => {\n\n\tconst [files, setFiles] = useState<File[]>([]);\n\tconst [bgFiles, setBgFiles] = useState<File[]>([]);\n\tconst [folder, setFolder] = useState('');\n\tconst { setIsAuth } = useContext(AppContext);\n\tconst { format, tag } = dataUpload(link);\n\tconst modalRef = useRef<HTMLDivElement>(null);\n\tconst [loader, setLoader] = useState(false);\n\n\tuseEffect(() => {\n\t\tfunction handleClickOutside(event: MouseEvent) {\n\t\t\tif (modalRef.current && !modalRef.current.contains(event.target as Node)) {\n\t\t\t\tclose();\n\t\t\t}\n\t\t}\n\n\t\tlet total = 0;\n\t\tfor (let i = 0; i < files.length; i++) {\n\t\t\ttotal += files[i]?.size;\n\t\t}\n\n\n\t\tdocument.addEventListener('click', handleClickOutside);\n\t\treturn () => {\n\t\t\tdocument.removeEventListener('click', handleClickOutside);\n\t\t};\n\t}, [modalRef, files, bgFiles]);\n\n\tconst handleFileUpload = (e: React.ChangeEvent<HTMLInputElement>) => {\n\t\tsetFiles(e.target.files as unknown as File[]);\n\t};\n\n\tconst handleFileDelete = (i: number) => {\n\t\tsetFiles(\n\t\t\tArray.from(files).filter((el, index) => index !== i),\n\t\t);\n\t};\n\n\tconst handleBgFileUpload = (e: React.ChangeEvent<HTMLInputElement>) => {\n\t\tsetBgFiles(e.target.files as unknown as File[]);\n\t};\n\n\tconst handleBgFileDelete = (i: number) => {\n\t\tsetBgFiles(\n\t\t\tArray.from(bgFiles).filter((el, index) => index !== i),\n\t\t);\n\t};\n\n\tconst handleUpload = async () => {\n\t\tconst formData = new FormData();\n\t\tif (!folder) {\n\t\t\talert('Required field input folder'); return;\n\t\t}\n\n\t\tif (!bgFiles.length) {\n\t\t\talert('Required field Background file'); return;\n\t\t}\n\t\tif (!files.length) {\n\t\t\talert('Required field Download file'); return;\n\t\t}\n\n\t\t\n\n\t\tformData.append('title', folder);\n\t\tformData.append('tag', tag);\n\t\tformData.append('bgfiles', bgFiles[0]);\n\t\tfor (let i = 0; i < files.length; i++) {\n\t\t\tformData.append('files', files[i]);\n\t\t}\n\n\t\ttry {\n\t\t\tsetLoader(true)\n\t\t\tawait $api.post('media/add-folder', formData, {\n\t\t\t\theaders: { 'Content-Type': 'multipart/form-data' },\n\t\t\t});\n\t\t\tsetLoader(false)\n\t\t\talert('Success upload, update site');\n\t\t\tclose();\n\t\t\twindow.location.reload();\n\t\t} catch (error: any) {\n\t\t\tif (error?.response?.status === 401) {\n\t\t\t\tsetIsAuth('');\n\t\t\t}\n\t\t\tsetLoader(false)\n\t\t\talert(error);\n\t\t}\n\t};\n\n\tconst handlerSetFolder = (e: React.ChangeEvent<HTMLInputElement>) => {\n\t\tsetFolder(e.target.value);\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t<div className='login add' ref={modalRef}>\n\t\t\t\t<h4 className='login__text'>Add Collection</h4>\n\t\t\t\t<div className='login_item'>\n\t\t\t\t\t<h4 className='login__text'>NAME FOLDER {Boolean(folder) || <span className='login__text login__text-req'>Required field</span>} </h4>\n\t\t\t\t\t<input type='text' className='login__input' value={folder} onChange={handlerSetFolder} />\n\t\t\t\t</div>\n\n\t\t\t\t<div className='login_item'>\n\t\t\t\t\t<h4 className='login__text'>Background foulder image</h4>\n\t\t\t\t\t<label htmlFor='file-bgupload' className='media--add add__label'>\n\t\t\t\t\t\tUpload file\n\t\t\t\t\t</label>\n\t\t\t\t\t<input type='file' accept={FormatMedia.PHOTO} id='file-bgupload' onChange={e => {\n\t\t\t\t\t\thandleBgFileUpload(e);\n\t\t\t\t\t}} />\n\t\t\t\t\t<h4 className='login__text'>{FormatMedia.PHOTO}\n\t\t\t\t\t\t{Boolean(bgFiles.length) || <span className='login__text login__text-req'> Required field</span>}\n\t\t\t\t\t</h4>\n\t\t\t\t\t{\n\t\t\t\t\t\tBoolean(bgFiles.length) && (\n\t\t\t\t\t\t\t<FilesList files={bgFiles} handleFileDelete={handleBgFileDelete} />\n\t\t\t\t\t\t)\n\t\t\t\t\t}\n\t\t\t\t</div>\n\t\t\t\t<div className='login_item'>\n\t\t\t\t\t<h4 className='login__text'>Media files</h4>\n\t\t\t\t\t<label htmlFor='file-upload' className='media--add add__label'>\n\t\t\t\t\t\tUpload file\n\t\t\t\t\t</label>\n\t\t\t\t\t<input type='file' multiple accept={format} id='file-upload' onChange={e => {\n\t\t\t\t\t\thandleFileUpload(e);\n\t\t\t\t\t}} />\n\t\t\t\t\t<h4 className='login__text'>{format}\n\t\t\t\t\t\t{Boolean(files.length) || <span className='login__text login__text-req'> Required field</span>}\n\t\t\t\t\t</h4>\n\t\t\t\t\t{\n\t\t\t\t\t\tBoolean(files.length) && (\n\t\t\t\t\t\t\t<FilesList files={files} handleFileDelete={handleFileDelete} />\n\t\t\t\t\t\t)\n\t\t\t\t\t}\n\t\t\t\t</div>\n\t\t\t\t<div className='login__nav'>\n\t\t\t\t\t<button className='media__item--delete' onClick={close}>\n\t\t\t\t\t\tCancel\n\t\t\t\t\t</button>\n\t\t\t\t\t<button className='media--add' onClick={handleUpload}>Upload To Server</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t{loader ? <Loader /> : <></>}\n\t\t</>\n\t);\n};\n","import {type ReactElement} from 'react';\n\nexport const WraperButton = ({label, text}: {label: string; text: string | ReactElement}) => <>\n\t<h5 className='media__item-text'>{label}</h5>\n\t<div className='media__item-bg'>\n\t\t<button className='media__item-bg_but'>{text}</button>\n\t</div>\n</>;\n","import {randList} from '../../../utils/randList';\nimport {useNavigate} from 'react-router-dom';\nimport {type MediaDataType, MediaEnumFile} from '../../../types/types-main';\nimport {useContext, useState} from 'react';\nimport {AppContext} from '../../../context/context';\nimport {AddNew} from '../../admin/add';\nimport {HREF} from '../../../utils/const';\nimport {WraperButton} from './wraperButton';\nimport {wraperMediaListParams} from '../../../utils/componentParams';\nimport {$api} from '../../../api/api';\n\nexport const WraperMedia = <T extends MediaDataType>({\n\tarr,\n\tlink,\n}: {\n\tarr: T[];\n\tlink: string;\n}) => {\n\tconst navigate = useNavigate();\n\tconst mediaType = wraperMediaListParams(link);\n\tconst {device, isAuth, setIsAuth} = useContext(AppContext);\n\tconst [opesAdd, setOpenAdd] = useState(false);\n\tconst slideId = mediaType.title[0].toUpperCase() + mediaType.title.slice(1);\n\n\tconst deleteFolder = (e: React.MouseEvent<HTMLButtonElement>, id: string | number) => {\n\t\te.stopPropagation();\n\t\t$api.post('media/delete-folder', {id})\n\t\t\t.then(res => {\n\t\t\t\talert('Delete success, update site');\n\t\t\t\twindow.location.reload();\n\t\t\t}).catch(error => {\n\t\t\t\tconsole.log(error);\n\t\t\t\tif (error?.response?.status === 401) {\n\t\t\t\t\tsetIsAuth('');\n\t\t\t\t}\n\t\t\t\talert(error);\n\t\t\t});\n\t};\n\n\tconst handlerOpenAdd = (e: React.MouseEvent<HTMLButtonElement>) => {\n\t\te.stopPropagation();\n\t\tsetOpenAdd(true);\n\t};\n\n\treturn <div className={`media ${mediaType.title}`} id={slideId}>\n\t\t{\n\t\t\tisAuth\n            && <>\n            \t<button className='media--add' onClick={handlerOpenAdd}>Add Collection</button>\n            \t{opesAdd && <AddNew close={() => {\n            \t\tsetOpenAdd(false);\n            \t}}\n            \t\tlink={`folder-${mediaType.title}`}\n            \t/>}\n            </>\n\n\t\t}\n\t\t<h4 className='title__links'>{mediaType.title}</h4>\n\t\t<div className='media__list'>\n\t\t\t{!arr.length || randList(arr, device).map((arrItem: T[], index: number) => (\n\t\t\t\t<div className={`media__itemline-${arrItem.length}-${index % 2 === 0 ? 'p' : 'n'} media__itemline`} key={'wraper-media' + index}>\n\t\t\t\t\t{arrItem.map(item => (\n\t\t\t\t\t\t<div style={{backgroundImage: `url(${HREF}uploads/${item.bgfiles})`}} className='media__item main--image'\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\tnavigate(`/${link}/${item?.folderId}${mediaType.tag === MediaEnumFile.VIDEO ? '/video/0' : ''}`);\n\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tisAuth && <button className='media__item--delete' onClick={e => {\n\t\t\t\t\t\t\t\t\tdeleteFolder(e, item?.folderId);\n\t\t\t\t\t\t\t\t}}>Delete</button>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t<WraperButton label={item?.label} text={<>view <br />all</>} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t))}\n\t\t\t\t</div>\n\t\t\t))}\n\t\t</div>\n\t</div>;\n};\n","import {MediaEnumFile, type MediaTypeFile, FormatMedia} from '../types/types-main';\n\nexport const wraperMediaParams = (link: string) => {\n\tswitch (link) {\n\t\tcase 'photo-list':\n\t\t\treturn {title: 'photo', tag: MediaEnumFile.PHOTO};\n\t\tcase 'video-list':\n\t\t\treturn {title: 'video', tag: MediaEnumFile.VIDEO};\n\t\tdefault:\n\t\t\treturn {title: 'photo', tag: MediaEnumFile.PHOTO};\n\t}\n};\n\nexport const wraperMediaListParams = (\n\tkey: string,\n): {title: string; buttonTitle: string; tag: MediaTypeFile} => {\n\tswitch (key) {\n\t\tcase 'photo-list':\n\t\t\treturn {\n\t\t\t\ttitle: 'photo',\n\t\t\t\tbuttonTitle: 'open full',\n\t\t\t\ttag: MediaEnumFile.PHOTO,\n\t\t\t};\n\t\tcase 'video-list':\n\t\t\treturn {\n\t\t\t\ttitle: 'video',\n\t\t\t\tbuttonTitle: 'play',\n\t\t\t\ttag: MediaEnumFile.VIDEO,\n\t\t\t};\n\t\tdefault:\n\t\t\treturn {\n\t\t\t\ttitle: 'not found',\n\t\t\t\tbuttonTitle: 'not found',\n\t\t\t\ttag: MediaEnumFile.PHOTO,\n\t\t\t};\n\t}\n};\n\nexport const wraperMediaListSlick = (key: string): {tag: MediaTypeFile} => {\n\tswitch (key) {\n\t\tcase 'photo':\n\t\t\treturn {tag: MediaEnumFile.PHOTO};\n\t\tcase 'video':\n\t\t\treturn {tag: MediaEnumFile.VIDEO};\n\t\tdefault:\n\t\t\treturn {tag: MediaEnumFile.PHOTO};\n\t}\n};\n\nexport const dataUpload = (key: string): {format: FormatMedia; tag: MediaEnumFile.PHOTO | MediaEnumFile.VIDEO} => {\n\tswitch (key) {\n\t\tcase 'folder-photo':\n\t\t\treturn {format: FormatMedia.PHOTO, tag: MediaEnumFile.PHOTO};\n\t\tcase 'folder-video':\n\t\t\treturn {format: FormatMedia.VIDEO, tag: MediaEnumFile.VIDEO};\n\t\tdefault:\n\t\t\treturn {format: FormatMedia.PHOTO, tag: MediaEnumFile.PHOTO};\n\t}\n};\n","import {type DeviceType} from './../types/types-main';\n\nexport const randList = <T>(arr: T[], device: DeviceType): T[][] => {\n\t// Console.log(\"randList-->\",arr.length);\n\n\tif (arr.length === 0) {\n\t\treturn [];\n\t}\n\n\tif (arr.length === 1) {\n\t\treturn [[...arr]];\n\t}\n\n\tif (device !== 'pc') {\n\t\treturn arr.map(e => [e]);\n\t}\n\n\tconst tempArr: T[][] = [];\n\n\tfor (let i = 0; i < arr.length; i += 3) {\n\t\ttempArr.push([\n\t\t\t...arr.slice(i, i + 3 >= arr.length ? arr.length : i + 3),\n\t\t]);\n\t}\n\n\tif (tempArr[tempArr.length - 1].length === 1) {\n\t\ttempArr[tempArr.length - 1].unshift(tempArr[tempArr.length - 2].pop() as T);\n\t}\n\n\treturn tempArr;\n};\n"],"names":["video","useContext","AppContext","_jsx","WraperMedia","arr","link","FilesList","_ref","files","handleFileDelete","className","children","Array","from","map","file","index","_jsxs","concat","name","size","length","split","slice","join","onClick","e","i","stopPropagation","deleteFile","AddNew","close","_useState","useState","_useState2","_slicedToArray","setFiles","_useState3","_useState4","bgFiles","setBgFiles","_useState5","_useState6","folder","setFolder","setIsAuth","_dataUpload","dataUpload","format","tag","modalRef","useRef","_useState7","_useState8","loader","setLoader","useEffect","handleClickOutside","event","current","contains","target","_files$i","document","addEventListener","removeEventListener","handleUpload","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","formData","_error$response","wrap","_context","prev","next","FormData","alert","abrupt","append","$api","headers","window","location","reload","t0","response","status","stop","apply","arguments","_Fragment","ref","Boolean","type","value","onChange","htmlFor","accept","FormatMedia","id","handleBgFileUpload","filter","el","multiple","handleFileUpload","Loader","WraperButton","label","text","navigate","useNavigate","mediaType","wraperMediaListParams","_useContext","device","isAuth","opesAdd","setOpenAdd","slideId","title","toUpperCase","randList","arrItem","item","style","backgroundImage","HREF","bgfiles","folderId","MediaEnumFile","then","res","catch","error","console","log","deleteFolder","key","buttonTitle","wraperMediaListSlick","_toConsumableArray","tempArr","push","unshift","pop"],"sourceRoot":""}