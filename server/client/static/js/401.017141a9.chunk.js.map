{"version":3,"file":"static/js/401.017141a9.chunk.js","mappings":"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","sources":["components/main-page/media/photo.tsx","components/admin/filesList.tsx","components/admin/add.tsx","components/main-page/media/wraperButton.tsx","components/main-page/media/wraperMedia.tsx","utils/componentParams.ts","utils/randList.ts"],"sourcesContent":["import {useContext} from 'react';\nimport {WraperMedia} from './wraperMedia';\nimport {AppContext} from '../../../context/context';\n\nconst Photo = () => {\n\tconst {image} = useContext(AppContext);\n\treturn <WraperMedia arr={image} link={'photo-list'} />;\n};\n\nexport default Photo;\n","import React from 'react';\nexport const FilesList = ({files, handleFileDelete}: {files: File[]; handleFileDelete: (i: number) => void}) => {\n\tconst deleteFile = (e: React.MouseEvent<HTMLButtonElement>, i: number) => {\n\t\te.stopPropagation();\n\t\thandleFileDelete(i);\n\t};\n\n\treturn <ul>\n\t\t{Array.from(files).map((file, index) => (\n\t\t\t<li key={file.name}>\n\t\t\t\t<div>\n\t\t\t\t\t<span>{\n\t\t\t\t\t\t`${file.name}/${file.size}`.length > 25\n\t\t\t\t\t\t\t? `${file.name}`.split('').slice(0, 25).join('') + '...'\n\t\t\t\t\t\t\t: `${file.name}`}</span>\n\t\t\t\t</div>\n\t\t\t\t<button className='add__del' onClick={e => {\n\t\t\t\t\tdeleteFile(e, index);\n\t\t\t\t}}>Delete</button>\n\t\t\t</li>\n\t\t))}\n\t</ul>;\n};\n","import React, {useState, useContext, useRef, useEffect} from 'react';\nimport {AppContext} from '../../context/context';\nimport {$api} from '../../api/api';\nimport {dataUpload} from '../../utils/componentParams';\nimport {FormatMedia} from '../../types/types-main';\nimport {FilesList} from './filesList';\nexport const AddNew = ({close, link}: {close: () => void; link: string}) => {\n\tconst [files, setFiles] = useState<File[]>([]);\n\tconst [bgFiles, setBgFiles] = useState<File[]>([]);\n\tconst [folder, setFolder] = useState('');\n\tconst {setIsAuth} = useContext(AppContext);\n\tconst {format, tag} = dataUpload(link);\n\tconst modalRef = useRef<HTMLDivElement>(null);\n\n\tconsole.log(files, bgFiles);\n\tuseEffect(() => {\n\t\tfunction handleClickOutside(event: MouseEvent) {\n\t\t\tif (modalRef.current && !modalRef.current.contains(event.target as Node)) {\n\t\t\t\tclose();\n\t\t\t}\n\t\t}\n\n\t\tdocument.addEventListener('click', handleClickOutside);\n\t\treturn () => {\n\t\t\tdocument.removeEventListener('click', handleClickOutside);\n\t\t};\n\t}, [modalRef, files, bgFiles]);\n\n\tconst handleFileUpload = (e: React.ChangeEvent<HTMLInputElement>) => {\n\t\tsetFiles(e.target.files as unknown as File[]);\n\t};\n\n\tconst handleFileDelete = (i: number) => {\n\t\tsetFiles(\n\t\t\tArray.from(files).filter((el, index) => index !== i),\n\t\t);\n\t};\n\n\tconst handleBgFileUpload = (e: React.ChangeEvent<HTMLInputElement>) => {\n\t\tsetBgFiles(e.target.files as unknown as File[]);\n\t};\n\n\tconst handleBgFileDelete = (i: number) => {\n\t\tsetBgFiles(\n\t\t\tArray.from(bgFiles).filter((el, index) => index !== i),\n\t\t);\n\t};\n\n\tconst handleUpload = async () => {\n\t\tconst formData = new FormData();\n\t\tif (!folder) {\n\t\t\talert('Required field input folder'); return;\n\t\t}\n\n\t\tif (!bgFiles.length) {\n\t\t\talert('Required field Background file'); return;\n\t\t}\n\n\t\tif (!files.length) {\n\t\t\talert('Required field Download file'); return;\n\t\t}\n\n\t\tformData.append('title', folder);\n\t\tformData.append('tag', tag);\n\t\tformData.append('bgfiles', bgFiles[0]);\n\t\tfor (let i = 0; i < files.length; i++) {\n\t\t\tformData.append('files', files[i]);\n\t\t}\n\n\t\ttry {\n\t\t\tawait $api.post('media/add-folder', formData, {\n\t\t\t\theaders: {'Content-Type': 'multipart/form-data'},\n\t\t\t});\n\t\t\talert('Success upload, update site');\n\t\t\tclose();\n\t\t} catch (error: any) {\n\t\t\tif (error?.response?.status === 401) {\n\t\t\t\tsetIsAuth('');\n\t\t\t}\n\n\t\t\talert(error);\n\t\t}\n\t};\n\n\tconst handlerSetFolder = (e: React.ChangeEvent<HTMLInputElement>) => {\n\t\tsetFolder(e.target.value);\n\t};\n\n\treturn (\n\t\t<div className='login add' ref={modalRef}>\n\t\t\t<h4 className='login__text'>Add Collection</h4>\n\t\t\t<div className='login_item'>\n\t\t\t\t<h4 className='login__text'>NAME FOLDER {Boolean(folder) || <span className='login__text login__text-req'>Required field</span>} </h4>\n\t\t\t\t<input type='text' className='login__input' value={folder} onChange={handlerSetFolder} />\n\t\t\t</div>\n\n\t\t\t<div className='login_item'>\n\t\t\t\t<h4 className='login__text'>Background foulder image</h4>\n\t\t\t\t<label htmlFor='file-bgupload' className='media--add add__label'>\n                    Upload file\n\t\t\t\t</label>\n\t\t\t\t<input type='file' accept={FormatMedia.PHOTO} id='file-bgupload' onChange={e => {\n\t\t\t\t\thandleBgFileUpload(e);\n\t\t\t\t}} />\n\t\t\t\t<h4 className='login__text'>{FormatMedia.PHOTO}\n\t\t\t\t\t{Boolean(bgFiles.length) || <span className='login__text login__text-req'> Required field</span>}\n\t\t\t\t</h4>\n\t\t\t\t{\n\t\t\t\t\tBoolean(bgFiles.length) && (\n\t\t\t\t\t\t<FilesList files={bgFiles} handleFileDelete={handleBgFileDelete} />\n\t\t\t\t\t)\n\t\t\t\t}\n\t\t\t</div>\n\t\t\t<div className='login_item'>\n\t\t\t\t<h4 className='login__text'>Media files</h4>\n\t\t\t\t<label htmlFor='file-upload' className='media--add add__label'>\n                    Upload file\n\t\t\t\t</label>\n\t\t\t\t<input type='file' multiple accept={format} id='file-upload' onChange={e => {\n\t\t\t\t\thandleFileUpload(e);\n\t\t\t\t}} />\n\t\t\t\t<h4 className='login__text'>{format}\n\t\t\t\t\t{Boolean(files.length) || <span className='login__text login__text-req'> Required field</span>}\n\t\t\t\t</h4>\n\t\t\t\t{\n\t\t\t\t\tBoolean(files.length) && (\n\t\t\t\t\t\t<FilesList files={files} handleFileDelete={handleFileDelete} />\n\t\t\t\t\t)\n\t\t\t\t}\n\t\t\t</div>\n\t\t\t<div className='login__nav'>\n\t\t\t\t<button className='media__item--delete' onClick={close}>\n                    Cancel\n\t\t\t\t</button>\n\t\t\t\t<button className='media--add' onClick={handleUpload}>Upload To Server</button>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n","import {type ReactElement} from 'react';\n\nexport const WraperButton = ({label, text}: {label: string; text: string | ReactElement}) => <>\n\t<h5 className='media__item-text'>{label}</h5>\n\t<div className='media__item-bg'>\n\t\t<button className='media__item-bg_but'>{text}</button>\n\t</div>\n</>;\n","import {randList} from '../../../utils/randList';\nimport {useNavigate} from 'react-router-dom';\nimport {type MediaDataType, MediaEnumFile} from '../../../types/types-main';\nimport {useContext, useState} from 'react';\nimport {AppContext} from '../../../context/context';\nimport {AddNew} from '../../admin/add';\nimport {HREF} from '../../../utils/const';\nimport {WraperButton} from './wraperButton';\nimport {wraperMediaListParams} from '../../../utils/componentParams';\nimport {$api} from '../../../api/api';\n\nexport const WraperMedia = <T extends MediaDataType>({\n\tarr,\n\tlink,\n}: {\n\tarr: T[];\n\tlink: string;\n}) => {\n\tconst navigate = useNavigate();\n\tconst mediaType = wraperMediaListParams(link);\n\tconst {device, isAuth, setIsAuth} = useContext(AppContext);\n\tconst [opesAdd, setOpenAdd] = useState(false);\n\tconst slideId = mediaType.title[0].toUpperCase() + mediaType.title.slice(1);\n\n\tconst deleteFolder = (e: React.MouseEvent<HTMLButtonElement>, id: string | number) => {\n\t\te.stopPropagation();\n\t\t$api.post('media/delete-folder', {id})\n\t\t\t.then(res => {\n\t\t\t\talert('Delete success, update site');\n\t\t\t}).catch(error => {\n\t\t\t\tconsole.log(error);\n\t\t\t\tif (error?.response?.status === 401) {\n\t\t\t\t\tsetIsAuth('');\n\t\t\t\t}\n\n\t\t\t\talert(error);\n\t\t\t});\n\t};\n\n\tconst handlerOpenAdd = (e: React.MouseEvent<HTMLButtonElement>) => {\n\t\te.stopPropagation();\n\t\tsetOpenAdd(true);\n\t};\n\n\treturn <div className={`media ${mediaType.title}`} id={slideId}>\n\t\t{\n\t\t\tisAuth\n            && <>\n            \t<button className='media--add' onClick={handlerOpenAdd}>Add Collection</button>\n            \t{opesAdd && <AddNew close={() => {\n            \t\tsetOpenAdd(false);\n            \t}}\n            \t\tlink={`folder-${mediaType.title}`}\n            \t/>}\n            </>\n\n\t\t}\n\t\t<h4 className='title__links'>{mediaType.title}</h4>\n\t\t<div className='media__list'>\n\t\t\t{!arr.length || randList(arr, device).map((arrItem: T[], index: number) => (\n\t\t\t\t<div className={`media__itemline-${arrItem.length}-${index % 2 === 0 ? 'p' : 'n'} media__itemline`} key={'wraper-media' + index}>\n\t\t\t\t\t{arrItem.map(item => (\n\t\t\t\t\t\t<div style={{backgroundImage: `url(${HREF}uploads/${item.bgfiles})`}} className='media__item about__born-image'\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\tnavigate(`/${link}/${item?.folderId}${mediaType.tag === MediaEnumFile.VIDEO ? '/video/0' : ''}`);\n\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tisAuth && <button className='media__item--delete' onClick={e => {\n\t\t\t\t\t\t\t\t\tdeleteFolder(e, item?.folderId);\n\t\t\t\t\t\t\t\t}}>Delete</button>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t<WraperButton label={item?.label} text={<>view <br />all</>} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t))}\n\t\t\t\t</div>\n\t\t\t))}\n\t\t</div>\n\t</div>;\n};\n","import {MediaEnumFile, type MediaTypeFile, FormatMedia} from '../types/types-main';\n\nexport const wraperMediaParams = (link: string) => {\n\tswitch (link) {\n\t\tcase 'photo-list':\n\t\t\treturn {title: 'photo', tag: MediaEnumFile.PHOTO};\n\t\tcase 'video-list':\n\t\t\treturn {title: 'video', tag: MediaEnumFile.VIDEO};\n\t\tdefault:\n\t\t\treturn {title: 'photo', tag: MediaEnumFile.PHOTO};\n\t}\n};\n\nexport const wraperMediaListParams = (\n\tkey: string,\n): {title: string; buttonTitle: string; tag: MediaTypeFile} => {\n\tswitch (key) {\n\t\tcase 'photo-list':\n\t\t\treturn {\n\t\t\t\ttitle: 'photo',\n\t\t\t\tbuttonTitle: 'open full',\n\t\t\t\ttag: MediaEnumFile.PHOTO,\n\t\t\t};\n\t\tcase 'video-list':\n\t\t\treturn {\n\t\t\t\ttitle: 'video',\n\t\t\t\tbuttonTitle: 'play',\n\t\t\t\ttag: MediaEnumFile.VIDEO,\n\t\t\t};\n\t\tdefault:\n\t\t\treturn {\n\t\t\t\ttitle: 'not found',\n\t\t\t\tbuttonTitle: 'not found',\n\t\t\t\ttag: MediaEnumFile.PHOTO,\n\t\t\t};\n\t}\n};\n\nexport const wraperMediaListSlick = (key: string): {tag: MediaTypeFile} => {\n\tswitch (key) {\n\t\tcase 'photo':\n\t\t\treturn {tag: MediaEnumFile.PHOTO};\n\t\tcase 'video':\n\t\t\treturn {tag: MediaEnumFile.VIDEO};\n\t\tdefault:\n\t\t\treturn {tag: MediaEnumFile.PHOTO};\n\t}\n};\n\nexport const dataUpload = (key: string): {format: FormatMedia; tag: MediaEnumFile.PHOTO | MediaEnumFile.VIDEO} => {\n\tswitch (key) {\n\t\tcase 'folder-photo':\n\t\t\treturn {format: FormatMedia.PHOTO, tag: MediaEnumFile.PHOTO};\n\t\tcase 'folder-video':\n\t\t\treturn {format: FormatMedia.VIDEO, tag: MediaEnumFile.VIDEO};\n\t\tdefault:\n\t\t\treturn {format: FormatMedia.PHOTO, tag: MediaEnumFile.PHOTO};\n\t}\n};\n","import {type DeviceType} from './../types/types-main';\n\nexport const randList = <T>(arr: T[], device: DeviceType): T[][] => {\n\t// Console.log(\"randList-->\",arr.length);\n\n\tif (arr.length === 0) {\n\t\treturn [];\n\t}\n\n\tif (arr.length === 1) {\n\t\treturn [[...arr]];\n\t}\n\n\tif (device !== 'pc') {\n\t\treturn arr.map(e => [e]);\n\t}\n\n\tconst tempArr: T[][] = [];\n\n\tfor (let i = 0; i < arr.length; i += 3) {\n\t\ttempArr.push([\n\t\t\t...arr.slice(i, i + 3 >= arr.length ? arr.length : i + 3),\n\t\t]);\n\t}\n\n\tif (tempArr[tempArr.length - 1].length === 1) {\n\t\ttempArr[tempArr.length - 1].unshift(tempArr[tempArr.length - 2].pop() as T);\n\t}\n\n\treturn tempArr;\n};\n"],"names":["image","useContext","AppContext","_jsx","WraperMedia","arr","link","FilesList","_ref","files","handleFileDelete","children","Array","from","map","file","index","_jsxs","concat","name","size","length","split","slice","join","className","onClick","e","i","stopPropagation","deleteFile","AddNew","close","_useState","useState","_useState2","_slicedToArray","setFiles","_useState3","_useState4","bgFiles","setBgFiles","_useState5","_useState6","folder","setFolder","setIsAuth","_dataUpload","dataUpload","format","tag","modalRef","useRef","console","log","useEffect","handleClickOutside","event","current","contains","target","document","addEventListener","removeEventListener","handleUpload","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","formData","_error$response","wrap","_context","prev","next","FormData","alert","abrupt","append","$api","headers","t0","response","status","stop","apply","arguments","ref","Boolean","type","value","onChange","htmlFor","accept","FormatMedia","id","handleBgFileUpload","filter","el","multiple","handleFileUpload","WraperButton","label","text","_Fragment","navigate","useNavigate","mediaType","wraperMediaListParams","_useContext","device","isAuth","opesAdd","setOpenAdd","slideId","title","toUpperCase","randList","arrItem","item","style","backgroundImage","HREF","bgfiles","folderId","MediaEnumFile","then","res","catch","error","deleteFolder","key","buttonTitle","wraperMediaListSlick","_toConsumableArray","tempArr","push","unshift","pop"],"sourceRoot":""}