{"version":3,"file":"static/js/401.d0b4873f.chunk.js","mappings":"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","sources":["components/main-page/media/photo.tsx","components/admin/filesList.tsx","components/admin/add.tsx","components/main-page/media/wraperButton.tsx","components/main-page/media/wraperMedia.tsx","utils/componentParams.ts","utils/randList.ts"],"sourcesContent":["import {useContext} from 'react';\nimport {WraperMedia} from './wraperMedia';\nimport {AppContext} from '../../../context/context';\n\nconst Photo = () => {\n\tconst {image} = useContext(AppContext);\n\treturn <WraperMedia arr={image} link={'photo-list'} />;\n};\n\nexport default Photo;\n","import React from 'react';\nexport const FilesList = ({files, handleFileDelete}: {files: File[]; handleFileDelete: (i: number) => void}) => {\n\tconst deleteFile = (e: React.MouseEvent<HTMLButtonElement>, i: number) => {\n\t\te.stopPropagation();\n\t\thandleFileDelete(i);\n\t};\n\n\treturn <ul>\n\t\t{Array.from(files).map((file, index) => (\n\t\t\t<li key={file.name}>\n\t\t\t\t<div>\n\t\t\t\t\t<span>{\n\t\t\t\t\t\t`${file.name}/${file.size}`.length > 25\n\t\t\t\t\t\t\t? `${file.name}`.split('').slice(0, 25).join('') + '...'\n\t\t\t\t\t\t\t: `${file.name}`}</span>\n\t\t\t\t</div>\n\t\t\t\t<button className='add__del' onClick={e => {\n\t\t\t\t\tdeleteFile(e, index);\n\t\t\t\t}}>Delete</button>\n\t\t\t</li>\n\t\t))}\n\t</ul>;\n};\n","import React, { useState, useContext, useRef, useEffect } from 'react';\nimport { AppContext } from '../../context/context';\nimport { $api } from '../../api/api';\nimport { dataUpload } from '../../utils/componentParams';\nimport { FormatMedia } from '../../types/types-main';\nimport { FilesList } from './filesList';\nimport { Loader } from '../loader/loader';\n\nexport const AddNew = ({ close, link }: { close: () => void; link: string }) => {\n\n\tconst [files, setFiles] = useState<File[]>([]);\n\tconst [bgFiles, setBgFiles] = useState<File[]>([]);\n\tconst [folder, setFolder] = useState('');\n\tconst { setIsAuth } = useContext(AppContext);\n\tconst { format, tag } = dataUpload(link);\n\tconst modalRef = useRef<HTMLDivElement>(null);\n\tconst [totalSize, setTotalSize] = useState(0);\n\tconst [loader, setLoader] = useState(false);\n\n\tuseEffect(() => {\n\t\tfunction handleClickOutside(event: MouseEvent) {\n\t\t\tif (modalRef.current && !modalRef.current.contains(event.target as Node)) {\n\t\t\t\tclose();\n\t\t\t}\n\t\t}\n\n\t\tlet total = 0;\n\t\tfor (let i = 0; i < files.length; i++) {\n\t\t\ttotal += files[i]?.size;\n\t\t}\n\n\t\tsetTotalSize(total + bgFiles[0]?.size || 0);\n\n\t\tdocument.addEventListener('click', handleClickOutside);\n\t\treturn () => {\n\t\t\tdocument.removeEventListener('click', handleClickOutside);\n\t\t};\n\t}, [modalRef, files, bgFiles]);\n\n\tconst handleFileUpload = (e: React.ChangeEvent<HTMLInputElement>) => {\n\t\tsetFiles(e.target.files as unknown as File[]);\n\t};\n\n\tconst handleFileDelete = (i: number) => {\n\t\tsetFiles(\n\t\t\tArray.from(files).filter((el, index) => index !== i),\n\t\t);\n\t};\n\n\tconst handleBgFileUpload = (e: React.ChangeEvent<HTMLInputElement>) => {\n\t\tsetBgFiles(e.target.files as unknown as File[]);\n\t};\n\n\tconst handleBgFileDelete = (i: number) => {\n\t\tsetBgFiles(\n\t\t\tArray.from(bgFiles).filter((el, index) => index !== i),\n\t\t);\n\t};\n\n\tconst handleUpload = async () => {\n\t\tconst formData = new FormData();\n\t\tif (!folder) {\n\t\t\talert('Required field input folder'); return;\n\t\t}\n\t\tif (!bgFiles.length) {\n\t\t\talert('Required field Background file'); return;\n\t\t}\n\t\tif (!files.length) {\n\t\t\talert('Required field Download file'); return;\n\t\t}\n\n\t\tif (totalSize > 20000000) {\n\t\t\talert('Max size Collection 20Mb'); return;\n\t\t}\n\t\tif (files.length > 20) {\n\t\t\talert('Max count files 20'); return;\n\t\t}\n\n\t\tformData.append('title', folder);\n\t\tformData.append('tag', tag);\n\t\tformData.append('bgfiles', bgFiles[0]);\n\t\tfor (let i = 0; i < files.length; i++) {\n\t\t\tformData.append('files', files[i]);\n\t\t}\n\n\t\ttry {\n\t\t\tsetLoader(true)\n\t\t\tawait $api.post('media/add-folder', formData, {\n\t\t\t\theaders: { 'Content-Type': 'multipart/form-data' },\n\t\t\t});\n\t\t\tsetLoader(false)\n\t\t\talert('Success upload, update site');\n\t\t\tclose();\n\t\t} catch (error: any) {\n\t\t\tif (error?.response?.status === 401) {\n\t\t\t\tsetIsAuth('');\n\t\t\t}\n\t\t\tsetLoader(false)\n\t\t\talert(error);\n\t\t}\n\t};\n\n\tconst handlerSetFolder = (e: React.ChangeEvent<HTMLInputElement>) => {\n\t\tsetFolder(e.target.value);\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t<div className='login add' ref={modalRef}>\n\t\t\t\t<h4 className='login__text'>Add Collection</h4>\n\t\t\t\t<h3 className='login__text'>Max Size 20Mb,\n\t\t\t\t\t<span className='login__text login__text-req'> {totalSize / 1000000}Mb </span>\n\t\t\t\t\tMax files 20,\n\t\t\t\t\t<span className='login__text login__text-req'> {files.length}</span>\n\t\t\t\t</h3>\n\t\t\t\t<div className='login_item'>\n\t\t\t\t\t<h4 className='login__text'>NAME FOLDER {Boolean(folder) || <span className='login__text login__text-req'>Required field</span>} </h4>\n\t\t\t\t\t<input type='text' className='login__input' value={folder} onChange={handlerSetFolder} />\n\t\t\t\t</div>\n\n\t\t\t\t<div className='login_item'>\n\t\t\t\t\t<h4 className='login__text'>Background foulder image</h4>\n\t\t\t\t\t<label htmlFor='file-bgupload' className='media--add add__label'>\n\t\t\t\t\t\tUpload file\n\t\t\t\t\t</label>\n\t\t\t\t\t<input type='file' accept={FormatMedia.PHOTO} id='file-bgupload' onChange={e => {\n\t\t\t\t\t\thandleBgFileUpload(e);\n\t\t\t\t\t}} />\n\t\t\t\t\t<h4 className='login__text'>{FormatMedia.PHOTO}\n\t\t\t\t\t\t{Boolean(bgFiles.length) || <span className='login__text login__text-req'> Required field</span>}\n\t\t\t\t\t</h4>\n\t\t\t\t\t{\n\t\t\t\t\t\tBoolean(bgFiles.length) && (\n\t\t\t\t\t\t\t<FilesList files={bgFiles} handleFileDelete={handleBgFileDelete} />\n\t\t\t\t\t\t)\n\t\t\t\t\t}\n\t\t\t\t</div>\n\t\t\t\t<div className='login_item'>\n\t\t\t\t\t<h4 className='login__text'>Media files</h4>\n\t\t\t\t\t<label htmlFor='file-upload' className='media--add add__label'>\n\t\t\t\t\t\tUpload file\n\t\t\t\t\t</label>\n\t\t\t\t\t<input type='file' multiple accept={format} id='file-upload' onChange={e => {\n\t\t\t\t\t\thandleFileUpload(e);\n\t\t\t\t\t}} />\n\t\t\t\t\t<h4 className='login__text'>{format}\n\t\t\t\t\t\t{Boolean(files.length) || <span className='login__text login__text-req'> Required field</span>}\n\t\t\t\t\t</h4>\n\t\t\t\t\t{\n\t\t\t\t\t\tBoolean(files.length) && (\n\t\t\t\t\t\t\t<FilesList files={files} handleFileDelete={handleFileDelete} />\n\t\t\t\t\t\t)\n\t\t\t\t\t}\n\t\t\t\t</div>\n\t\t\t\t<div className='login__nav'>\n\t\t\t\t\t<button className='media__item--delete' onClick={close}>\n\t\t\t\t\t\tCancel\n\t\t\t\t\t</button>\n\t\t\t\t\t<button className='media--add' onClick={handleUpload}>Upload To Server</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t{loader ? <Loader /> : <></>}\n\t\t</>\n\t);\n};\n","import {type ReactElement} from 'react';\n\nexport const WraperButton = ({label, text}: {label: string; text: string | ReactElement}) => <>\n\t<h5 className='media__item-text'>{label}</h5>\n\t<div className='media__item-bg'>\n\t\t<button className='media__item-bg_but'>{text}</button>\n\t</div>\n</>;\n","import {randList} from '../../../utils/randList';\nimport {useNavigate} from 'react-router-dom';\nimport {type MediaDataType, MediaEnumFile} from '../../../types/types-main';\nimport {useContext, useState} from 'react';\nimport {AppContext} from '../../../context/context';\nimport {AddNew} from '../../admin/add';\nimport {HREF} from '../../../utils/const';\nimport {WraperButton} from './wraperButton';\nimport {wraperMediaListParams} from '../../../utils/componentParams';\nimport {$api} from '../../../api/api';\n\nexport const WraperMedia = <T extends MediaDataType>({\n\tarr,\n\tlink,\n}: {\n\tarr: T[];\n\tlink: string;\n}) => {\n\tconst navigate = useNavigate();\n\tconst mediaType = wraperMediaListParams(link);\n\tconst {device, isAuth, setIsAuth} = useContext(AppContext);\n\tconst [opesAdd, setOpenAdd] = useState(false);\n\tconst slideId = mediaType.title[0].toUpperCase() + mediaType.title.slice(1);\n\n\tconst deleteFolder = (e: React.MouseEvent<HTMLButtonElement>, id: string | number) => {\n\t\te.stopPropagation();\n\t\t$api.post('media/delete-folder', {id})\n\t\t\t.then(res => {\n\t\t\t\talert('Delete success, update site');\n\t\t\t}).catch(error => {\n\t\t\t\tconsole.log(error);\n\t\t\t\tif (error?.response?.status === 401) {\n\t\t\t\t\tsetIsAuth('');\n\t\t\t\t}\n\n\t\t\t\talert(error);\n\t\t\t});\n\t};\n\n\tconst handlerOpenAdd = (e: React.MouseEvent<HTMLButtonElement>) => {\n\t\te.stopPropagation();\n\t\tsetOpenAdd(true);\n\t};\n\n\treturn <div className={`media ${mediaType.title}`} id={slideId}>\n\t\t{\n\t\t\tisAuth\n            && <>\n            \t<button className='media--add' onClick={handlerOpenAdd}>Add Collection</button>\n            \t{opesAdd && <AddNew close={() => {\n            \t\tsetOpenAdd(false);\n            \t}}\n            \t\tlink={`folder-${mediaType.title}`}\n            \t/>}\n            </>\n\n\t\t}\n\t\t<h4 className='title__links'>{mediaType.title}</h4>\n\t\t<div className='media__list'>\n\t\t\t{!arr.length || randList(arr, device).map((arrItem: T[], index: number) => (\n\t\t\t\t<div className={`media__itemline-${arrItem.length}-${index % 2 === 0 ? 'p' : 'n'} media__itemline`} key={'wraper-media' + index}>\n\t\t\t\t\t{arrItem.map(item => (\n\t\t\t\t\t\t<div style={{backgroundImage: `url(${HREF}uploads/${item.bgfiles})`}} className='media__item about__born-image'\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\tnavigate(`/${link}/${item?.folderId}${mediaType.tag === MediaEnumFile.VIDEO ? '/video/0' : ''}`);\n\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tisAuth && <button className='media__item--delete' onClick={e => {\n\t\t\t\t\t\t\t\t\tdeleteFolder(e, item?.folderId);\n\t\t\t\t\t\t\t\t}}>Delete</button>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t<WraperButton label={item?.label} text={<>view <br />all</>} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t))}\n\t\t\t\t</div>\n\t\t\t))}\n\t\t</div>\n\t</div>;\n};\n","import {MediaEnumFile, type MediaTypeFile, FormatMedia} from '../types/types-main';\n\nexport const wraperMediaParams = (link: string) => {\n\tswitch (link) {\n\t\tcase 'photo-list':\n\t\t\treturn {title: 'photo', tag: MediaEnumFile.PHOTO};\n\t\tcase 'video-list':\n\t\t\treturn {title: 'video', tag: MediaEnumFile.VIDEO};\n\t\tdefault:\n\t\t\treturn {title: 'photo', tag: MediaEnumFile.PHOTO};\n\t}\n};\n\nexport const wraperMediaListParams = (\n\tkey: string,\n): {title: string; buttonTitle: string; tag: MediaTypeFile} => {\n\tswitch (key) {\n\t\tcase 'photo-list':\n\t\t\treturn {\n\t\t\t\ttitle: 'photo',\n\t\t\t\tbuttonTitle: 'open full',\n\t\t\t\ttag: MediaEnumFile.PHOTO,\n\t\t\t};\n\t\tcase 'video-list':\n\t\t\treturn {\n\t\t\t\ttitle: 'video',\n\t\t\t\tbuttonTitle: 'play',\n\t\t\t\ttag: MediaEnumFile.VIDEO,\n\t\t\t};\n\t\tdefault:\n\t\t\treturn {\n\t\t\t\ttitle: 'not found',\n\t\t\t\tbuttonTitle: 'not found',\n\t\t\t\ttag: MediaEnumFile.PHOTO,\n\t\t\t};\n\t}\n};\n\nexport const wraperMediaListSlick = (key: string): {tag: MediaTypeFile} => {\n\tswitch (key) {\n\t\tcase 'photo':\n\t\t\treturn {tag: MediaEnumFile.PHOTO};\n\t\tcase 'video':\n\t\t\treturn {tag: MediaEnumFile.VIDEO};\n\t\tdefault:\n\t\t\treturn {tag: MediaEnumFile.PHOTO};\n\t}\n};\n\nexport const dataUpload = (key: string): {format: FormatMedia; tag: MediaEnumFile.PHOTO | MediaEnumFile.VIDEO} => {\n\tswitch (key) {\n\t\tcase 'folder-photo':\n\t\t\treturn {format: FormatMedia.PHOTO, tag: MediaEnumFile.PHOTO};\n\t\tcase 'folder-video':\n\t\t\treturn {format: FormatMedia.VIDEO, tag: MediaEnumFile.VIDEO};\n\t\tdefault:\n\t\t\treturn {format: FormatMedia.PHOTO, tag: MediaEnumFile.PHOTO};\n\t}\n};\n","import {type DeviceType} from './../types/types-main';\n\nexport const randList = <T>(arr: T[], device: DeviceType): T[][] => {\n\t// Console.log(\"randList-->\",arr.length);\n\n\tif (arr.length === 0) {\n\t\treturn [];\n\t}\n\n\tif (arr.length === 1) {\n\t\treturn [[...arr]];\n\t}\n\n\tif (device !== 'pc') {\n\t\treturn arr.map(e => [e]);\n\t}\n\n\tconst tempArr: T[][] = [];\n\n\tfor (let i = 0; i < arr.length; i += 3) {\n\t\ttempArr.push([\n\t\t\t...arr.slice(i, i + 3 >= arr.length ? arr.length : i + 3),\n\t\t]);\n\t}\n\n\tif (tempArr[tempArr.length - 1].length === 1) {\n\t\ttempArr[tempArr.length - 1].unshift(tempArr[tempArr.length - 2].pop() as T);\n\t}\n\n\treturn tempArr;\n};\n"],"names":["image","useContext","AppContext","_jsx","WraperMedia","arr","link","FilesList","_ref","files","handleFileDelete","children","Array","from","map","file","index","_jsxs","concat","name","size","length","split","slice","join","className","onClick","e","i","stopPropagation","deleteFile","AddNew","close","_useState","useState","_useState2","_slicedToArray","setFiles","_useState3","_useState4","bgFiles","setBgFiles","_useState5","_useState6","folder","setFolder","setIsAuth","_dataUpload","dataUpload","format","tag","modalRef","useRef","_useState7","_useState8","totalSize","setTotalSize","_useState9","_useState10","loader","setLoader","useEffect","_bgFiles$","handleClickOutside","event","current","contains","target","total","_files$i","document","addEventListener","removeEventListener","handleUpload","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","formData","_error$response","wrap","_context","prev","next","FormData","alert","abrupt","append","$api","headers","t0","response","status","stop","apply","arguments","_Fragment","ref","Boolean","type","value","onChange","htmlFor","accept","FormatMedia","id","handleBgFileUpload","filter","el","multiple","handleFileUpload","Loader","WraperButton","label","text","navigate","useNavigate","mediaType","wraperMediaListParams","_useContext","device","isAuth","opesAdd","setOpenAdd","slideId","title","toUpperCase","randList","arrItem","item","style","backgroundImage","HREF","bgfiles","folderId","MediaEnumFile","then","res","catch","error","console","log","deleteFolder","key","buttonTitle","wraperMediaListSlick","_toConsumableArray","tempArr","push","unshift","pop"],"sourceRoot":""}